doctype html
html
	head
		include _header
		block head
		style.
			html { opacity: 0.04; }
		script.
			let _start=Date.now()
	body
		script(src='//cdn.jsdelivr.net/npm/loadjs@3.5.4/dist/loadjs.min.js')
		//- side menu shell
		include _top
		//- container
		.pusher

			//- pushed state
			block main

		script(src='/assets/js/setup.js')
		link(rel='stylesheet', href='//cdn.jsdelivr.net/npm/semantic-ui@2.3.0/dist/semantic.css', onload='cssLoaded()')
		script.
			//above is for fast loading
			//- see https://github.com/muicss/loadjs

			console.log('layout')

			loadjs.ready('site', function() {
				//show a bit
				document.getElementsByTagName('html')[0].style.opacity = .2
			})

			loadjs.ready('style', function() {
				setTimeout(function(){
					document.getElementsByTagName('html')[0].style.opacity = 1
					console.log(Date.now()-_start)//time to show
				},1000/30)

				$('.ui.sidebar').sidebar('attach events', '.toc.item')

			})//ready

		style.
			* {
				font-family: 'Open Sans' !important;
				letter-spacing: .05em !important;
			}

			.ui.menu {
				height: 3.5em !important;
			}

			.pusher {
				margin-top: 3.5em;
			}

			@media only screen and (min-width: 701px) {
				.toc.item {
					display: none !important;
				}
			}

